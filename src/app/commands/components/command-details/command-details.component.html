<mat-card class="card" fxFlex>

  <mat-card-title>
    <h3>Command details console</h3>
  </mat-card-title>

  <mat-card-content>

    <div *ngIf="!project; else commandDetailsTemplate" fxLayoutAlign="center center">
      Select a project
    </div>

    <ng-template #commandDetailsTemplate>
      <mat-tab-group>
        <mat-tab label="Console">
          <mat-list>
            <mat-list-item>Id: {{project.project_id}}</mat-list-item>
            <mat-list-item>Project: {{project.projectName}}</mat-list-item>
            <br>
            <mat-list-item>
              <mat-form-field> 
                <mat-label>Command:</mat-label>
                <textarea matInput #input placeholder="Type commande here" (keyup)=getTextInputValue(input.value)>
                </textarea>
              </mat-form-field>  
            <button mat-raised-button color="warn" (click)=sendCommandTipped(project)> Send </button>
            </mat-list-item>
          </mat-list>
           
        </mat-tab>
        <mat-tab label="Historique des commandes">

          <h3 matLine> Project: {{project.projectName}}</h3>
          <mat-divider> </mat-divider>
        <mat-card-content>

          <mat-list role="list" *ngFor="let historiqueCommand of historiqueCommands">
            <div *ngFor="let command of historiqueCommand.commands">
                <mat-list-item role="listitem" >id: {{command.id}} </mat-list-item>
                <mat-list-item role="listitem"> commandes: {{command.command}} </mat-list-item>
                <!-- mat-list-item role="listitem" if="!command.created_time" > date: {{command.created_time}} </mat-list-item -->
            </div>
            <mat-divider> </mat-divider>
          </mat-list>

         </mat-card-content>
        </mat-tab>
      </mat-tab-group>
    </ng-template>

  </mat-card-content>
</mat-card>