<mat-card class='card' fxFlex>

  <mat-card-title>
    <h3>Project Details</h3>
    <button mat-raised-button color='primary' [disabled]='updateButtonDisabled' (click)='update()'>Update</button>
  </mat-card-title>

  <mat-card-content>

    <div *ngIf='!project; else projectDetailsTemplate' fxLayoutAlign='center center'>
      Select a project
    </div>

    <ng-template #projectDetailsTemplate>
      <mat-tab-group>

        <mat-tab label='Description'>
          <mat-list>
            <mat-list-item>Id: {{project.id}}</mat-list-item>
            <mat-list-item>Name: {{project.name}}</mat-list-item>
          </mat-list>
        </mat-tab>
        <mat-tab label='Notified Users'>
          <div class='mat-elevation-z8 users-list'>
            <table mat-table [dataSource]='users'>

              <ng-container matColumnDef='notified'>
                <th mat-header-cell *matHeaderCellDef> Notified </th>
                <td mat-cell *matCellDef='let user'>
                  
                  <mat-checkbox class='example-margin' ngDefaultControl [checked]='isNotified(user)' color='primary' (change)='showOptions(user, $event)'></mat-checkbox>
                </td>
              </ng-container>

              <ng-container matColumnDef='id'>
                <th mat-header-cell *matHeaderCellDef> Id </th>
                <td mat-cell *matCellDef='let user'> {{user.id}} </td>
              </ng-container>
              
              <ng-container matColumnDef='username'>
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef='let user'> {{user.username}} </td>
              </ng-container>

              <ng-container matColumnDef='name'>
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef='let user'> {{user.name}} </td>
              </ng-container>
              
              <ng-container matColumnDef='email'>
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef='let user'> {{user.email}} </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef='columns; sticky: true'></tr>
              <tr mat-row *matRowDef='let user; columns: columns;' class='row'></tr>
            </table>
          </div>
        </mat-tab>
      </mat-tab-group>

    </ng-template>

  </mat-card-content>
</mat-card>